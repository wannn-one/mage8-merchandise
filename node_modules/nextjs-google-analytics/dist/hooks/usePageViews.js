"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePageViews = void 0;
const react_1 = require("react");
const router_1 = require("next/router");
const interactions_1 = require("../interactions");
function usePageViews(gaMeasurementId) {
    const router = (0, router_1.useRouter)();
    (0, react_1.useEffect)(() => {
        const handleRouteChange = (url) => {
            var _a;
            const _gaMeasurementId = (_a = process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID) !== null && _a !== void 0 ? _a : gaMeasurementId;
            (0, interactions_1.pageView)({ path: url.toString() }, _gaMeasurementId);
        };
        router.events.on("routeChangeComplete", handleRouteChange);
        return () => {
            router.events.off("routeChangeComplete", handleRouteChange);
        };
    }, [router.events]);
}
exports.usePageViews = usePageViews;
//# sourceMappingURL=usePageViews.js.map